---
description: Workflow de dÃ©veloppement et dÃ©ploiement pour GeekBoard
globs: **/*
alwaysApply: true
---

# **Workflow de DÃ©veloppement et DÃ©ploiement GeekBoard**

## **ğŸ”„ Processus Obligatoire**

### **1. DÃ©veloppement Local d'abord**
- **âœ… TOUJOURS** faire les modifications en local dans `/Users/admin/Documents/GeekBoard/`
- **âœ… Tester** les modifications localement avant dÃ©ploiement
- **âœ… VÃ©rifier** que tout fonctionne correctement

### **2. DÃ©ploiement sur le Serveur**
- **ğŸš€ Commande SSH obligatoire** :
  ```bash
  sshpass -p "Mamanmaman01#" ssh -o StrictHostKeyChecking=no root@82.29.168.205
  ```

### **3. Dossier Cible sur le Serveur**
- **ğŸ“ Dossier principal** : `/var/www/mdgeek.top/`
- **ğŸ“ Sous-domaines** : Utilisent Ã©galement `/var/www/mdgeek.top/` comme base

## **ğŸ“‹ Ã‰tapes de DÃ©ploiement**

### **Pour un Fichier Unique :**
```bash
# 1. Modifier le fichier localement
# 2. Copier vers le serveur
sshpass -p "Mamanmaman01#" scp -o StrictHostKeyChecking=no local/path/file.php root@82.29.168.205:/var/www/mdgeek.top/path/file.php

# 3. Corriger les permissions
sshpass -p "Mamanmaman01#" ssh -o StrictHostKeyChecking=no root@82.29.168.205 "chown www-data:www-data /var/www/mdgeek.top/path/file.php"
```

### **Pour Plusieurs Fichiers :**
```bash
# 1. Modifier les fichiers localement
# 2. Copier le dossier complet
sshpass -p "Mamanmaman01#" scp -r -o StrictHostKeyChecking=no local/folder/ root@82.29.168.205:/var/www/mdgeek.top/

# 3. Corriger les permissions
sshpass -p "Mamanmaman01#" ssh -o StrictHostKeyChecking=no root@82.29.168.205 "chown -R www-data:www-data /var/www/mdgeek.top/"
```

## **âš ï¸ RÃ¨gles Importantes**

### **âŒ Ne JAMAIS faire :**
- Modifier directement sur le serveur sans avoir testÃ© en local
- Oublier de corriger les permissions aprÃ¨s upload
- Travailler directement en production

### **âœ… TOUJOURS faire :**
- DÃ©velopper et tester en local d'abord
- Utiliser la commande SSH exacte fournie
- Corriger les permissions aprÃ¨s upload (`chown www-data:www-data`)
- VÃ©rifier que le dÃ©ploiement fonctionne

## **ğŸ—‚ï¸ Structure des Dossiers**

### **Local :**
```
/Users/admin/Documents/GeekBoard/
â”œâ”€â”€ public_html/
â”‚   â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ includes/
â”‚   â”œâ”€â”€ assets/
â”‚   â””â”€â”€ ...
```

### **Serveur :**
```
/var/www/mdgeek.top/
â”œâ”€â”€ components/
â”œâ”€â”€ includes/
â”œâ”€â”€ assets/
â””â”€â”€ ...
```

## **ğŸ”§ Commandes Utiles**

### **Test de Connexion :**
```bash
sshpass -p "Mamanmaman01#" ssh -o StrictHostKeyChecking=no root@82.29.168.205 "pwd"
```

### **Lister les Fichiers :**
```bash
sshpass -p "Mamanmaman01#" ssh -o StrictHostKeyChecking=no root@82.29.168.205 "ls -la /var/www/mdgeek.top/"
```

### **Vider le Cache PHP :**
```bash
sshpass -p "Mamanmaman01#" ssh -o StrictHostKeyChecking=no root@82.29.168.205 "php -r 'opcache_reset();'"
```

## **ğŸ“ Notes Importantes**

- **Serveur IP** : `82.29.168.205`
- **Utilisateur** : `root`
- **Mot de passe** : `Mamanmaman01#`
- **PropriÃ©taire web** : `www-data:www-data`
- **Permissions** : `755` pour dossiers, `644` pour fichiers

---

**ğŸ¯ Objectif :** Assurer un workflow de dÃ©veloppement propre et sÃ©curisÃ© avec des dÃ©ploiements fiables.