---
description: Processus de d√©ploiement obligatoire pour GeekBoard
globs: **/*
alwaysApply: true
---

# **Processus de D√©ploiement GeekBoard**

## **üîÑ Workflow Obligatoire**

### **1. D√©veloppement Local TOUJOURS en Premier**
```bash
# Dossier de travail local
cd /Users/admin/Documents/GeekBoard/

# ‚úÖ Faire TOUTES les modifications ici d'abord
# ‚úÖ Tester localement
# ‚úÖ V√©rifier que tout fonctionne
```

### **2. Connexion SSH au Serveur**
```bash
# Commande SSH obligatoire - TOUJOURS utiliser cette commande exacte
sshpass -p "Mamanmaman01#" ssh -o StrictHostKeyChecking=no root@82.29.168.205
```

### **3. Dossier Cible sur le Serveur**
- **Dossier principal** : `/var/www/mdgeek.top/`
- **Tous les sous-domaines** utilisent ce m√™me dossier

## **üì§ Commandes de D√©ploiement**

### **Upload d'un Fichier Unique :**
```bash
# Copier le fichier modifi√©
sshpass -p "Mamanmaman01#" scp -o StrictHostKeyChecking=no /Users/admin/Documents/GeekBoard/fichier.php root@82.29.168.205:/var/www/mdgeek.top/

# Corriger les permissions
sshpass -p "Mamanmaman01#" ssh -o StrictHostKeyChecking=no root@82.29.168.205 "chown www-data:www-data /var/www/mdgeek.top/fichier.php"
```

### **Upload de Plusieurs Fichiers :**
```bash
# Copier le dossier complet
sshpass -p "Mamanmaman01#" scp -r -o StrictHostKeyChecking=no /Users/admin/Documents/GeekBoard/dossier/ root@82.29.168.205:/var/www/mdgeek.top/

# Corriger les permissions
sshpass -p "Mamanmaman01#" ssh -o StrictHostKeyChecking=no root@82.29.168.205 "chown -R www-data:www-data /var/www/mdgeek.top/"
```

## **üîß Informations de Connexion**

### **Serveur :**
- **IP** : `82.29.168.205`
- **Utilisateur** : `root`
- **Mot de passe** : `Mamanmaman01#`
- **Dossier web** : `/var/www/mdgeek.top/`

### **Permissions :**
- **Propri√©taire** : `www-data:www-data`
- **Dossiers** : `755`
- **Fichiers** : `644`

## **üìã R√®gles Strictes**

### **‚úÖ TOUJOURS Faire :**
1. **D√©velopper en local d'abord** dans `/Users/admin/Documents/GeekBoard/`
2. **Tester localement** avant d√©ploiement
3. **Utiliser la commande SSH exacte** fournie
4. **Corriger les permissions** apr√®s upload (`chown www-data:www-data`)
5. **Documenter les fichiers modifi√©s/supprim√©s** √† la fin

### **‚ùå JAMAIS Faire :**
1. Modifier directement sur le serveur sans test local
2. Oublier de corriger les permissions apr√®s upload
3. Travailler directement en production
4. Utiliser d'autres m√©thodes de connexion SSH

## **üìù Documentation Obligatoire**

### **√Ä la Fin de Chaque Modification :**
```markdown
## Fichiers Modifi√©s :
- fichier1.php
- dossier/fichier2.php
- config/fichier3.php

## Fichiers Supprim√©s :
- ancien_fichier.php
- temp/fichier_obsolete.php

## Commandes Ex√©cut√©es :
sshpass -p "Mamanmaman01#" scp -o StrictHostKeyChecking=no fichier1.php root@82.29.168.205:/var/www/mdgeek.top/
sshpass -p "Mamanmaman01#" ssh -o StrictHostKeyChecking=no root@82.29.168.205 "chown www-data:www-data /var/www/mdgeek.top/fichier1.php"
```

## **üõ†Ô∏è Commandes Utiles**

### **Test de Connexion :**
```bash
sshpass -p "Mamanmaman01#" ssh -o StrictHostKeyChecking=no root@82.29.168.205 "pwd && ls -la /var/www/mdgeek.top/"
```

### **Vider le Cache PHP :**
```bash
sshpass -p "Mamanmaman01#" ssh -o StrictHostKeyChecking=no root@82.29.168.205 "php -r 'if (function_exists(\"opcache_reset\")) opcache_reset();'"
```

### **V√©rifier les Permissions :**
```bash
sshpass -p "Mamanmaman01#" ssh -o StrictHostKeyChecking=no root@82.29.168.205 "ls -la /var/www/mdgeek.top/ | head -20"
```

---

**üéØ Objectif :** Assurer un d√©ploiement s√ªr et document√© avec un workflow de d√©veloppement propre.