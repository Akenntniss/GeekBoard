/**
 * IPAD NAVBAR BLUR FIX
 * Correction de l'effet de flou trop prononcÃ© sur iPad
 * Version: 1.0
 */

/* ========================================
   ðŸŽ¯ DÃ‰TECTION IPAD
======================================== */

/* DÃ©tection iPad via User Agent et orientation */
@media screen and (max-width: 1366px) and (orientation: landscape) {
    /* iPad en paysage - RÃ©duire l'effet de flou */
    body.ipad-device #desktop-navbar,
    body.ipad-landscape #desktop-navbar,
    nav.navbar {
        /* RÃ©duire drastiquement l'effet de flou */
        backdrop-filter: blur(5px) !important;
        -webkit-backdrop-filter: blur(5px) !important;
        
        /* Fond plus opaque pour compenser */
        background: rgba(255, 255, 255, 0.95) !important;
        
        /* Bordure plus visible */
        border: 1px solid rgba(0, 0, 0, 0.1) !important;
        
        /* Ombre plus subtile */
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1) !important;
        
        /* Supprimer les effets de glow excessifs */
        box-shadow: 
            0 2px 10px rgba(0, 0, 0, 0.1),
            0 0 0 rgba(0, 212, 255, 0) !important;
    }
    
    /* Mode sombre iPad - Ajustements spÃ©cifiques */
    @media (prefers-color-scheme: dark) {
        body.ipad-device #desktop-navbar,
        body.ipad-landscape #desktop-navbar,
        nav.navbar {
            background: rgba(20, 20, 30, 0.95) !important;
            border: 1px solid rgba(255, 255, 255, 0.1) !important;
            backdrop-filter: blur(8px) !important;
            -webkit-backdrop-filter: blur(8px) !important;
        }
    }
    
    body.dark-mode.ipad-device #desktop-navbar,
    body.dark-mode.ipad-landscape #desktop-navbar,
    body.dark-mode nav.navbar {
        background: rgba(20, 20, 30, 0.95) !important;
        border: 1px solid rgba(255, 255, 255, 0.1) !important;
        backdrop-filter: blur(8px) !important;
        -webkit-backdrop-filter: blur(8px) !important;
    }
}

/* ========================================
   ðŸŽ¯ CORRECTIONS SPÃ‰CIFIQUES IPAD
======================================== */

/* iPad Portrait - Garder l'effet normal */
@media screen and (max-width: 1024px) and (orientation: portrait) {
    body.ipad-device #desktop-navbar,
    body.ipad-portrait #desktop-navbar {
        /* En portrait, on peut garder un peu plus de flou */
        backdrop-filter: blur(15px) !important;
        -webkit-backdrop-filter: blur(15px) !important;
        background: rgba(255, 255, 255, 0.9) !important;
    }
}

/* ========================================
   ðŸ”§ BOUTONS NAVBAR IPAD
======================================== */

/* S'assurer que les boutons sont bien visibles sur iPad */
@media screen and (max-width: 1366px) and (orientation: landscape) {
    body.ipad-device .btn-nouvelle-improved,
    body.ipad-landscape .btn-nouvelle-improved {
        /* Bouton plus contrastÃ© */
        background: #007bff !important;
        color: white !important;
        border: 2px solid #0056b3 !important;
        box-shadow: 0 2px 8px rgba(0, 123, 255, 0.3) !important;
        font-weight: 600 !important;
    }
    
    body.ipad-device .main-menu-btn,
    body.ipad-landscape .main-menu-btn {
        /* Bouton menu plus visible */
        background: #f8f9fa !important;
        color: #495057 !important;
        border: 2px solid #dee2e6 !important;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1) !important;
        font-weight: 600 !important;
    }
    
    /* Mode sombre pour les boutons iPad */
    @media (prefers-color-scheme: dark) {
        body.ipad-device .btn-nouvelle-improved,
        body.ipad-landscape .btn-nouvelle-improved {
            background: linear-gradient(135deg, #00d4ff, #00ffff) !important;
            color: #000000 !important;
            border: 2px solid #00ffff !important;
            box-shadow: 0 2px 8px rgba(0, 255, 255, 0.4) !important;
        }
        
        body.ipad-device .main-menu-btn,
        body.ipad-landscape .main-menu-btn {
            background: #2a2a2a !important;
            color: #ffffff !important;
            border: 2px solid #444444 !important;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3) !important;
        }
    }
    
    body.dark-mode.ipad-device .btn-nouvelle-improved,
    body.dark-mode.ipad-landscape .btn-nouvelle-improved {
        background: linear-gradient(135deg, #00d4ff, #00ffff) !important;
        color: #000000 !important;
        border: 2px solid #00ffff !important;
        box-shadow: 0 2px 8px rgba(0, 255, 255, 0.4) !important;
    }
    
    body.dark-mode.ipad-device .main-menu-btn,
    body.dark-mode.ipad-landscape .main-menu-btn {
        background: #2a2a2a !important;
        color: #ffffff !important;
        border: 2px solid #444444 !important;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3) !important;
    }
}

/* ========================================
   ðŸŽ¯ SUPPRESSION DES EFFETS EXCESSIFS
======================================== */

/* Supprimer les pseudo-Ã©lÃ©ments qui crÃ©ent des effets de glow */
@media screen and (max-width: 1366px) and (orientation: landscape) {
    body.ipad-device #desktop-navbar::before,
    body.ipad-landscape #desktop-navbar::before,
    body.ipad-device nav.navbar::before,
    body.ipad-landscape nav.navbar::before {
        display: none !important;
    }
    
    body.ipad-device #desktop-navbar::after,
    body.ipad-landscape #desktop-navbar::after,
    body.ipad-device nav.navbar::after,
    body.ipad-landscape nav.navbar::after {
        display: none !important;
    }
}

/* ========================================
   ðŸ”§ CONTENEUR BOUTONS IPAD
======================================== */

/* S'assurer que le conteneur des boutons est visible */
@media screen and (max-width: 1366px) and (orientation: landscape) {
    body.ipad-device .d-none.d-lg-flex,
    body.ipad-landscape .d-none.d-lg-flex {
        display: flex !important;
        visibility: visible !important;
        opacity: 1 !important;
        gap: 0.5rem !important;
        align-items: center !important;
    }
}

/* ========================================
   ðŸŽ¯ DEBUG TEMPORAIRE
======================================== */

/* Indicateur visuel pour confirmer que le fix est actif */
@media screen and (max-width: 1366px) and (orientation: landscape) {
    body.ipad-device #desktop-navbar::before,
    body.ipad-landscape #desktop-navbar::before {
        content: "IPAD BLUR FIX ACTIF" !important;
        position: absolute !important;
        top: -20px !important;
        right: 10px !important;
        background: #28a745 !important;
        color: white !important;
        padding: 2px 6px !important;
        font-size: 10px !important;
        border-radius: 3px !important;
        z-index: 10000 !important;
    }
}

