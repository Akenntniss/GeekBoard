ğŸš€ PROMPT MVP - REFONTE GEEKBOARD SCALABLE

ğŸ“‹ CONTEXTE ACTUEL ANALYSÃ‰

Architecture existante :
- âœ… SystÃ¨me multi-database fonctionnel (geekboard_general + bases magasins)
- âœ… DÃ©tection automatique sous-domaines (mkmkmk.servo.tools â†’ geekboard_mkmkmk)
- âœ… FonctionnalitÃ©s complÃ¨tes : rÃ©parations, clients, inventaire, SMS, tÃ¢ches, RH, etc.
- âŒ ProblÃ¨me majeur : 200+ fichiers CSS avec doublons et 15,000+ fixes
- âŒ Code legacy PHP difficile Ã  maintenir
- âŒ Performance dÃ©gradÃ©e par la surcharge CSS

ğŸ¯ OBJECTIF MVP

CrÃ©er une version 2.0 scalable qui :
1. GARDE toutes les fonctionnalitÃ©s existantes
2. GARDE le systÃ¨me multi-database
3. GARDE le thÃ¨me futuriste
4. Ã‰LIMINE tous les doublons CSS
5. MODERNISE l'architecture pour la scalabilitÃ©

ğŸ—ï¸ ARCHITECTURE CIBLE

Backend (API REST)
Structure modulaire :
src/
â”œâ”€â”€ api/
â”‚   â”œâ”€â”€ auth/           // Authentification
â”‚   â”œâ”€â”€ shops/          // Gestion multi-magasins
â”‚   â”œâ”€â”€ repairs/        // RÃ©parations
â”‚   â”œâ”€â”€ clients/        // Clients
â”‚   â”œâ”€â”€ inventory/      // Inventaire
â”‚   â”œâ”€â”€ tasks/          // TÃ¢ches
â”‚   â”œâ”€â”€ sms/           // Communication
â”‚   â””â”€â”€ reports/        // Rapports
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ database.php    // Connexions multi-DB
â”‚   â””â”€â”€ multi-shop.php  // DÃ©tection sous-domaines
â””â”€â”€ middleware/
    â”œâ”€â”€ auth.php
    â”œâ”€â”€ shop-detection.php
    â””â”€â”€ cors.php

Frontend (Next.js 15 + TypeScript)
src/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ (dashboard)/
â”‚   â”‚   â”œâ”€â”€ page.tsx           // Dashboard principal
â”‚   â”‚   â”œâ”€â”€ repairs/           // Gestion rÃ©parations
â”‚   â”‚   â”œâ”€â”€ clients/           // Gestion clients
â”‚   â”‚   â”œâ”€â”€ inventory/         // Inventaire
â”‚   â”‚   â”œâ”€â”€ tasks/            // TÃ¢ches
â”‚   â”‚   â””â”€â”€ reports/          // Rapports
â”‚   â”œâ”€â”€ api/                  // API Routes Next.js
â”‚   â””â”€â”€ globals.css           // UN SEUL fichier CSS
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ui/                   // Composants de base
â”‚   â”œâ”€â”€ forms/               // Formulaires
â”‚   â”œâ”€â”€ tables/              // Tableaux
â”‚   â””â”€â”€ modals/              // Modales
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ database.ts          // Connexions DB
â”‚   â”œâ”€â”€ multi-shop.ts        // DÃ©tection magasins
â”‚   â””â”€â”€ utils.ts
â””â”€â”€ styles/
    â””â”€â”€ futuristic.css       // ThÃ¨me futuriste unifiÃ©

ğŸ¨ DESIGN SYSTEM FUTURISTE UNIFIÃ‰

Variables CSS CentralisÃ©es
:root {
  /* Palette nÃ©on futuriste */
  --neon-cyan: #00ffff;
  --neon-purple: #8a2be2;
  --neon-pink: #ff1493;
  --neon-blue: #0080ff;
  --neon-green: #00ff41;
  --neon-orange: #ff8c00;
  
  /* Backgrounds */
  --bg-dark: #0a0e1a;
  --bg-surface: #1a1a2e;
  --bg-glass: rgba(255, 255, 255, 0.1);
  
  /* Animations */
  --transition-fast: 0.2s ease;
  --transition-smooth: 0.3s ease;
  --transition-slow: 0.5s ease;
}

Composants RÃ©utilisables
- Button : 3 variantes (primary, secondary, danger) + mode futuriste
- Card : Glassmorphism avec bordures animÃ©es
- Modal : Effets holographiques
- Table : Design cyberpunk avec hover effects
- Form : Inputs avec effets nÃ©on

ğŸ“± FONCTIONNALITÃ‰S Ã€ CONSERVER (100%)

1. Gestion des RÃ©parations
- âœ… Cycle complet : RÃ©ception â†’ Diagnostic â†’ Devis â†’ RÃ©paration â†’ Livraison
- âœ… Statuts avancÃ©s avec transitions
- âœ… QR codes et Ã©tiquettes
- âœ… Upload photos et notes techniques
- âœ… Historique des actions (logs)

2. SystÃ¨me Multi-Magasins
- âœ… DÃ©tection automatique sous-domaines
- âœ… Isolation complÃ¨te des donnÃ©es
- âœ… Connexions dynamiques aux bases
- âœ… Switch entre magasins (admin)

3. Gestion Clients
- âœ… Base de donnÃ©es complÃ¨te
- âœ… Historique des rÃ©parations
- âœ… SystÃ¨me de parrainage
- âœ… Communication automatisÃ©e

4. Inventaire & Commandes
- âœ… Gestion des piÃ¨ces dÃ©tachÃ©es
- âœ… Fournisseurs et commandes
- âœ… Gardiennage automatique
- âœ… Scanner QR intÃ©grÃ©

5. Communication & SMS
- âœ… Templates personnalisables
- âœ… Campagnes SMS
- âœ… Notifications push
- âœ… Historique des communications

6. Gestion RH & TÃ¢ches
- âœ… SystÃ¨me de tÃ¢ches Kanban
- âœ… Gestion des congÃ©s
- âœ… Pointage et prÃ©sence
- âœ… Missions et objectifs

7. Rapports & Analytics
- âœ… KPIs en temps rÃ©el
- âœ… Tableaux de bord personnalisables
- âœ… Export des donnÃ©es
- âœ… Statistiques avancÃ©es

ğŸ”§ MIGRATION TECHNIQUE

Phase 1 : Nettoyage CSS (1 semaine)
# Supprimer tous les fichiers CSS redondants
rm assets/css/*.backup
rm assets/css/*-fix.css
rm assets/css/*-enhanced.css
rm assets/css/*-modern.css

# CrÃ©er un seul fichier CSS unifiÃ©
touch src/styles/futuristic-unified.css

Phase 2 : API REST (2 semaines)
CrÃ©er des endpoints RESTful :
GET    /api/repairs          // Liste des rÃ©parations
POST   /api/repairs          // CrÃ©er rÃ©paration
PUT    /api/repairs/{id}     // Modifier rÃ©paration
DELETE /api/repairs/{id}     // Supprimer rÃ©paration

GET    /api/clients          // Liste des clients
POST   /api/clients          // CrÃ©er client
// ... etc pour chaque module

Phase 3 : Frontend Next.js (3 semaines)
Pages principales Ã  migrer :
- Dashboard (accueil.php â†’ app/page.tsx)
- RÃ©parations (reparations.php â†’ app/repairs/page.tsx)
- Clients (clients.php â†’ app/clients/page.tsx)
- Inventaire (inventaire.php â†’ app/inventory/page.tsx)
// ... etc

Phase 4 : PWA & Optimisations (1 semaine)
Configuration PWA :
- Service Worker pour offline
- Manifest pour installation
- Notifications push
- Cache stratÃ©gique

ğŸ“Š STRUCTURE DE DONNÃ‰ES (CONSERVÃ‰E)

Base Principale (geekboard_general)
-- Table shops (mappings sous-domaines)
shops: id, nom, subdomain, db_config, active

-- Table users (utilisateurs globaux)
users: id, email, password, role, shop_id

Bases Magasins (geekboard_{nom})
-- Tables existantes conservÃ©es
repairs: id, client_id, device, problem, status, created_at
clients: id, nom, prenom, email, phone, created_at
inventory: id, name, category, stock, price, supplier_id
tasks: id, title, description, assigned_to, status, priority
// ... toutes les autres tables existantes

ğŸš€ LIVRABLES MVP

1. Code Source
- âœ… Backend API REST (PHP 8+)
- âœ… Frontend Next.js 15 + TypeScript
- âœ… Design system futuriste unifiÃ©
- âœ… PWA fonctionnelle

2. FonctionnalitÃ©s
- âœ… 100% des fonctionnalitÃ©s actuelles
- âœ… SystÃ¨me multi-magasins intact
- âœ… ThÃ¨me futuriste conservÃ©
- âœ… Performance optimisÃ©e

3. Documentation
- âœ… Guide de migration
- âœ… Documentation API
- âœ… Guide utilisateur
- âœ… Architecture technique

4. Tests
- âœ… Tests unitaires (80%+ couverture)
- âœ… Tests d'intÃ©gration
- âœ… Tests E2E critiques
- âœ… Tests de performance

âš¡ GAINS ATTENDUS

Performance
- ğŸš€ Chargement : -70% (2s â†’ 0.6s)
- ğŸš€ CSS : -95% (200 fichiers â†’ 1 fichier)
- ğŸš€ Maintenance : -80% de complexitÃ©

DÃ©veloppement
- ğŸ”§ ScalabilitÃ© : Architecture modulaire
- ğŸ”§ Maintenance : Code TypeScript typÃ©
- ğŸ”§ Ã‰quipe : Onboarding facilitÃ©

Utilisateur
- ğŸ“± Mobile : PWA native
- ğŸ¨ Design : Interface cohÃ©rente
- âš¡ Vitesse : Navigation instantanÃ©e

ğŸ¯ CRITÃˆRES DE SUCCÃˆS

1. âœ… FonctionnalitÃ©s : 100% des features actuelles
2. âœ… Performance : Chargement < 1s
3. âœ… CSS : 1 seul fichier de styles
4. âœ… Multi-DB : SystÃ¨me multi-magasins intact
5. âœ… ThÃ¨me : Design futuriste conservÃ©
6. âœ… PWA : Installation mobile native
7. âœ… Tests : 80%+ couverture de code

ğŸš€ Ce prompt MVP vous permettra de repartir Ã  zÃ©ro avec une architecture moderne, scalable et performante, tout en conservant exactement les mÃªmes fonctionnalitÃ©s et le mÃªme thÃ¨me futuriste que vous aimez !

DÃ‰TAILS TECHNIQUES SUPPLÃ‰MENTAIRES

Stack Technologique RecommandÃ©e :
- Backend : PHP 8.2+ avec Symfony/Laravel ou API pure
- Frontend : Next.js 15 + TypeScript + Tailwind CSS
- Base de donnÃ©es : MySQL 8.0+ (structure existante conservÃ©e)
- Cache : Redis pour les sessions et cache
- Serveur : Nginx + PHP-FPM
- CDN : CloudFlare pour les assets statiques

Architecture de DÃ©ploiement :
- Environnement de dÃ©veloppement local
- Staging pour les tests
- Production avec dÃ©ploiement automatisÃ©
- Monitoring avec Sentry ou Ã©quivalent
- Sauvegardes automatiques quotidiennes

SÃ©curitÃ© :
- Authentification JWT
- CORS configurÃ© correctement
- Validation des donnÃ©es cÃ´tÃ© serveur
- Chiffrement des donnÃ©es sensibles
- Logs d'audit complets

Performance :
- Lazy loading des composants
- Code splitting par route
- Optimisation des images (WebP)
- Compression gzip/brotli
- Cache HTTP appropriÃ©

Tests :
- Jest pour les tests unitaires
- Cypress pour les tests E2E
- Lighthouse pour les audits de performance
- Tests de charge avec Artillery

Documentation :
- README dÃ©taillÃ©
- Documentation API (Swagger/OpenAPI)
- Guide de contribution
- Architecture Decision Records (ADRs)
