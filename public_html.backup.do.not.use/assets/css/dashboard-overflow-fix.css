/* ====================================================================
   üé® GEEKBOARD DASHBOARD - CORRECTION DES D√âBORDEMENTS
   Pr√©vention des d√©bordements d'animations et de rotations
==================================================================== */

/* ====================================================================
   PR√âVENTION DES D√âBORDEMENTS GLOBAUX
==================================================================== */

/* Container principal - Emp√™cher tout d√©bordement */
.modern-dashboard.futuristic-dashboard-container.futuristic-enabled {
    overflow-x: hidden !important;
    overflow-y: auto !important;
    max-width: 100vw !important;
    position: relative;
}

/* Body et HTML - Emp√™cher les d√©bordements horizontaux */
body, html {
    overflow-x: hidden !important;
    max-width: 100% !important;
}

/* ====================================================================
   CORRECTION DES ANIMATIONS DE ROTATION
==================================================================== */

/* Conteneurs des √©l√©ments avec rotation */
.action-card.futuristic-action-btn,
.stat-card.futuristic-stat-card,
.futuristic-card,
.statistics-container {
    overflow: hidden !important;
    position: relative;
}

/* Ic√¥nes avec rotation - Limiter les transformations */
.action-icon,
.stat-icon.stat-icon-futuristic {
    transform-origin: center center;
    max-width: 100%;
    max-height: 100%;
    overflow: hidden;
}

/* Correction des rotations pour √©viter les d√©bordements */
.action-card.futuristic-action-btn:hover .action-icon {
    transform: rotate(3deg) scale(1.05) !important; /* R√©duit de 5deg √† 3deg */
    transform-origin: center center;
}

.stat-card.futuristic-stat-card:hover .stat-icon.stat-icon-futuristic {
    transform: rotate(-3deg) scale(1.05) !important; /* R√©duit de -5deg √† -3deg */
    transform-origin: center center;
}

/* Effets 3D corrig√©s pour √©viter les d√©bordements */
.action-card.futuristic-action-btn:hover .action-icon {
    transform: translateZ(5px) rotateY(3deg) !important; /* R√©duit de 5deg √† 3deg */
}

.stat-card.futuristic-stat-card:hover .stat-icon.stat-icon-futuristic {
    transform: translateZ(5px) rotateX(3deg) !important; /* R√©duit de 5deg √† 3deg */
}

/* ====================================================================
   CORRECTION DES ANIMATIONS D'ARRI√àRE-PLAN
==================================================================== */

/* Particules flottantes - Limiter les d√©placements */
@keyframes particleFloatSafe {
    0%, 100% { 
        transform: translate(0, 0) rotate(0deg) scale(1); 
        opacity: 0.8; 
    }
    25% { 
        transform: translate(6px, -6px) rotate(45deg) scale(1.05); /* R√©duit les d√©placements */
        opacity: 1; 
    }
    50% { 
        transform: translate(-3px, 3px) rotate(90deg) scale(0.95); 
        opacity: 0.9; 
    }
    75% { 
        transform: translate(-6px, -3px) rotate(135deg) scale(1.02); 
        opacity: 1; 
    }
}

/* Appliquer l'animation corrig√©e */
@media (prefers-color-scheme: dark) {
    .modern-dashboard.futuristic-dashboard-container.futuristic-enabled::after {
        animation: particleFloatSafe 15s ease-in-out infinite, starfieldMoveSafe 30s linear infinite !important;
    }
}

/* Mouvement des √©toiles corrig√© */
@keyframes starfieldMoveSafe {
    0% { transform: translateY(0) translateX(0); }
    25% { transform: translateY(-10px) translateX(3px); }
    50% { transform: translateY(-20px) translateX(-3px); }
    75% { transform: translateY(-30px) translateX(2px); }
    100% { transform: translateY(-40px) translateX(0); }
}

/* ====================================================================
   CORRECTION DES EFFETS DE SURVOL
==================================================================== */

/* Effets de scale limit√©s */
.action-card.futuristic-action-btn:hover {
    transform: translateY(-6px) scale(1.01) !important; /* R√©duit de 1.02 √† 1.01 */
}

.stat-card.futuristic-stat-card:hover {
    transform: translateY(-8px) scale(1.015) !important; /* R√©duit de 1.03 √† 1.015 */
}

.futuristic-card:hover,
.statistics-container:hover {
    transform: translateY(-6px) !important; /* R√©duit de -8px √† -6px */
}

/* ====================================================================
   CORRECTION DES GRILLES RESPONSIVES
==================================================================== */

/* Grilles avec marges de s√©curit√© */
.quick-actions-grid.futuristic-action-grid,
.statistics-grid.futuristic-stats-grid,
.dashboard-tables-container.futuristic-tables-container {
    margin-left: 0.5rem;
    margin-right: 0.5rem;
    max-width: calc(100vw - 1rem);
}

/* ====================================================================
   CORRECTIONS RESPONSIVE
==================================================================== */

@media (max-width: 1400px) {
    .action-card.futuristic-action-btn:hover .action-icon,
    .stat-card.futuristic-stat-card:hover .stat-icon.stat-icon-futuristic {
        transform: scale(1.03) !important; /* Pas de rotation sur √©crans moyens */
    }
}

@media (max-width: 992px) {
    /* R√©duction des effets sur tablettes */
    .action-card.futuristic-action-btn:hover,
    .stat-card.futuristic-stat-card:hover,
    .futuristic-card:hover,
    .statistics-container:hover {
        transform: translateY(-3px) !important;
    }
    
    .action-icon,
    .stat-icon.stat-icon-futuristic {
        transform: none !important;
        transition: filter 0.3s ease;
    }
    
    .action-card.futuristic-action-btn:hover .action-icon,
    .stat-card.futuristic-stat-card:hover .stat-icon.stat-icon-futuristic {
        filter: brightness(1.1);
        transform: none !important;
    }
}

@media (max-width: 768px) {
    /* D√©sactivation compl√®te des rotations sur mobile */
    .action-icon,
    .stat-icon.stat-icon-futuristic {
        transform: none !important;
    }
    
    .action-card.futuristic-action-btn:hover .action-icon,
    .stat-card.futuristic-stat-card:hover .stat-icon.stat-icon-futuristic {
        transform: none !important;
        filter: brightness(1.05);
    }
    
    /* Animations d'arri√®re-plan r√©duites */
    @media (prefers-color-scheme: dark) {
        .modern-dashboard.futuristic-dashboard-container.futuristic-enabled::after {
            animation: starfieldMoveSafe 60s linear infinite !important;
        }
        
        .modern-dashboard.futuristic-dashboard-container.futuristic-enabled::before {
            animation: backgroundPulse 12s ease-in-out infinite alternate !important;
        }
    }
}

@media (max-width: 480px) {
    /* Marges de s√©curit√© augment√©es sur tr√®s petits √©crans */
    .modern-dashboard.futuristic-dashboard-container.futuristic-enabled {
        padding: 0.75rem !important;
        margin: 0 !important;
    }
    
    .quick-actions-grid.futuristic-action-grid,
    .statistics-grid.futuristic-stats-grid {
        margin-left: 0.25rem;
        margin-right: 0.25rem;
        max-width: calc(100vw - 0.5rem);
    }
}

/* ====================================================================
   CORRECTION DES MODALS ET √âL√âMENTS FLOTTANTS
==================================================================== */

/* S'assurer que les modals ne d√©bordent pas */
.modal-dialog {
    max-width: calc(100vw - 2rem) !important;
    margin: 1rem auto !important;
}

.modal-content {
    max-width: 100% !important;
    overflow: hidden;
}

/* ====================================================================
   CORRECTION DES TABLEAUX
==================================================================== */

/* Tableaux responsives sans d√©bordement */
.modern-table {
    width: 100%;
    max-width: 100%;
    overflow: hidden;
}

.modern-table-row {
    max-width: 100%;
    overflow: hidden;
}

.modern-table-row:hover {
    transform: translateX(2px) !important; /* R√©duit de 4px √† 2px */
}

/* ====================================================================
   CORRECTIONS POUR SAFARI ET WEBKIT
==================================================================== */

/* Corrections sp√©cifiques pour Safari */
@supports (-webkit-appearance: none) {
    .action-card.futuristic-action-btn,
    .stat-card.futuristic-stat-card {
        -webkit-transform-style: preserve-3d;
        transform-style: preserve-3d;
    }
    
    .action-icon,
    .stat-icon.stat-icon-futuristic {
        -webkit-backface-visibility: hidden;
        backface-visibility: hidden;
    }
}

/* ====================================================================
   D√âBOGAGE - √Ä SUPPRIMER EN PRODUCTION
==================================================================== */

/* Indicateurs visuels pour d√©tecter les d√©bordements (d√©veloppement uniquement) */
/*
.modern-dashboard.futuristic-dashboard-container.futuristic-enabled {
    border: 2px solid red;
}

.action-card.futuristic-action-btn,
.stat-card.futuristic-stat-card {
    border: 1px solid yellow;
}
*/

/* ====================================================================
   PERFORMANCE ET OPTIMISATION
==================================================================== */

/* Optimisation GPU pour les √©l√©ments avec transformations */
.action-card.futuristic-action-btn,
.stat-card.futuristic-stat-card,
.action-icon,
.stat-icon.stat-icon-futuristic {
    will-change: transform;
    transform: translateZ(0);
    backface-visibility: hidden;
    perspective: 1000px;
}

/* Limitation de will-change sur mobile */
@media (max-width: 768px) {
    .action-card.futuristic-action-btn,
    .stat-card.futuristic-stat-card,
    .action-icon,
    .stat-icon.stat-icon-futuristic {
        will-change: auto;
    }
}

